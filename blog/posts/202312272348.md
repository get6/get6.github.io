---
title: Flutter에는 Riverpod이 있다
date: 2023-12-27 23:48
tags: [Flutter riverpod]
series_title: Flutter 상태 관리 중 하나인 Riverpod을 알아보자!
---

![photo by Sandro Gonzalez on Unsplash](https://images.unsplash.com/photo-1702076544677-3c7945cb8e4c?crop=entropy&cs=srgb&fm=jpg&ixid=M3wzNjM5Nzd8MHwxfHJhbmRvbXx8fHx8fHx8fDE3MDM2ODg1MDV8&ixlib=rb-4.0.3&q=85&w=768&h=432)

프론트엔드쪽에서는 익히기 어려운 것 중 하나로 상태 관리가 있습니다. 상태 관리를 위한 라이브러리나 패키지도 많고 각기 사용 방법도 다양합니다.

상태 관리를 사용하는 가장 큰 이유는 드릴링과 로직의 분리때문입니다. 간단하게 설명해보겠습니다.

드릴링은 어떤 화면에서 연계되는 이벤트를 전달하기 위해 부모에서 함수를 전달받거나 어떤 값을 전달받고자 하는 자식에게까지 전달하는 것입니다. 이러다보니 중간에서 전달하는 자식 입장에서는 내부에서 쓰지도 않는 인자를 다시 자식에게 주는 것이 올바르지 않다고 느껴졌기 때문에 드릴링을 피하는 방법으로 주고자하는 곳과 받고자하는 곳에서만 주고받을 수 있도록 만들었습니다. 일종의 포탈처럼 생각하시면 됩니다.

로직의 분리를 하는 이유로는 보통 상태 관리를 하는 대상은 데이터를 APIs를 통해 받아오거나 앱 내부에서 값이 변경될 가능성이 있는 값이 해당됩니다. 그러면 처음에는 데이터가 없다가 함수를 호출해서 값을 받아오면 데이터가 생기기 때문에 이를 UI에서 표시해줘야 합니다. 그러다보면 초기, 대기, 실패, 성공 같은 상태에 따라 UI가 다를 수 있어서 사용자에게 적절한 안내를 하기 위해 UI를 잘 바꿔주는 것이 UX 경험이 더 나을겁니다. 그런데 이렇게 UI가 바뀌기 위해선 UI쪽에서 특정 값을 확인하면서 변경되기 때문에 UI와 처리 로직이 혼합되어 있습니다. 그래서 UI만을 담당하는 객체나 함수가 상태의 변경을 담당하는 객체나 함수로 분리하기 위해 상태 관리를 사용합니다.

이것 외에도 다양한 이유로 상태 관리가 사용되지만 상태 관리 패키지를 보면 정말 단순한 예제로 설명하고 있습니다. 단순히 정수값의 변화를 보여주고 하나씩 증가하는 예제를 보면 "음 쉽게 쓸 수 있군!" 하지만 Model 객체가 상태 관리에 들어가게 되면 불변성을 지키면서 상태 관리를 하기 때문에 코드를 치지 못하고 고민만 하게됩니다.

저도 이런 경험을 하고 "그래서 도메인 객체를 상태 관리에서 어떻게 쓰는건데!!" 싶어서 이렇게 글을 적게 되었습니다. 아무래도 찾아보고 배우고 정리하다보면 저도 배우는 게 있고 상태 관리와 좀 더 친해질 것 같습니다.

Flutter에서는 [Riverpod](https://riverpod.dev/)이라는 상태 관리 패키지가 있습니다. 다양한 패키지가 많지만, 제가 제작자를 좋아하고 잘쓰면 멋있을 것 같은 패키지라 골랐습니다.

그리고 상태 관리를 그냥 여기저기 쓸 수 있지만 저는 아키텍처 패턴을 적용해서 사용해보려고 합니다.

제 글을 보더라도 이해가 어려울 수 있기 때문에 제가 학습하기 위해 봤던 것들을 공유하겠습니다.
- [Flutter App Architecture with Riverpod: An Introduction](https://codewithandrea.com/articles/flutter-app-architecture-riverpod-introduction/)
- [Flutter Riverpod Essential 코스 (korean)](https://udemy.com/course/flutter-riverpod-essential-korean/)

---

> [!quote] The superior man blames himself. The inferior man blames others.
> — Don Shula