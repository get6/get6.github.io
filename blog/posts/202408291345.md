---
title: Flutter를 위한 Flavor 설정
date: 2024-08-29 13:45
tags:
  - flutter
  - build_configuration
---

Error generating random picture

## 문제 발견
저는 Flutter로 개발하면서 UI를 만들 때, 빌드하자마자 첫 화면이 제가 UI를 만들어야 하는 화면으로 잡아주길 바랬어요.
그런데 저는 만들려고 하는 프로젝트에서 [go_router](https://pub.dev/packages/go_router) 패키지를 쓰다보니 화면 전환이 go_router를 기준으로 구성이 되어있었어요. 환경에 따라 기존의 Router를 동일하게 하더라도 유연하게 대응할 수 있으면 좋겠다는 생각을 했어요.

그래서 검색을 했는데 Node.js의 dotenv처럼 환경을 분리할 수 있는 방법이 있었어요. 이런 문제를 해결할 수 있는 방식을 플러터에서는 flavor라고 말하고 이런 개념을 build_configuration라고 해요.

그런데 아무리 생각을 해봐도 UI 개발을 편히 하고 싶은 것인데 환경을 분리해야 하는 작업을 하는게 맞는걸까? 하는 의문이 들었어요. 플러터에는 
## go_router로만 해결하는 방법
기존 설정을 그대로 두고 해결하려면 GoRouter 객체를 초기화할 때, initialLocation 값을 원하는 화면의 경로로 수정해주시면 돼요. 저는 기존의 `/` 였지만 `/when-to-meet/detail`이라는 경로로 바꿔서 빌드되었을 때, 이 화면으로 진입했어요.

그게 아니라면 HomePage에서 버튼을 만들어서 `context.goNamed` 함수를 사용해서 이동하는 방법도 있어요.
### Firebase
Firebase 프로젝트는 prod, staging, dev로 나뉜다. 하나의 프로젝트에 환경을 다 담으면 좋지 않다. 환경마다 진입 지점(Entry point)을 만들어야 한다.
명칭은 com.ittae.app.dev 이렇게 정한다. 프로젝트에는 config/dev or prod에 GoogleService-Info.plist 같은 파일을 담는다.
iOS는 Debug, Release, Profile이라는 Configuration이 있으니 각각 복사해서 Release-prod, Debug-dev로 만들어도 된다. (뭘 의미하는진 찾아보기)

---

> [!quote] Friendship needs no words - it is solitude delivered from the anguish of loneliness.
> — Dag Hammarskjöld